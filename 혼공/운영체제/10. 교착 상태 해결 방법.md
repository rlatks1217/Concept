### 예방
- 애초에 교착 상태가 발생하지 않도록 하는 방법
- 교착 상태 발생 조건(상호 배제, 점유와 대기, 비선점, 원형 대기) 중 하나를 없애버리기
1. 상호 배제 없애기 - 현실적으로 불가능 
Ex) 프린트와 같은 자원을 여러 프로세스들이 동시에 접근하게 하는 것은 불가능
2. 점유와 대기 없애기 - 특정 프로세스에 자원을 모두 할당하거나, 아예 할당하지 않는 방식으로 배분 -> 자원의 활용률을 낮출 수 있는 방식(ex - 특정 프로세스가 쓰지도 않는 자원까지 전부 할당받은 경우 정작 해당 자원이 필요한 프로레스는 자원을 사용할 수 없기에 자원 활용률이 낮아진다고 할 수 있음)
Ex) 철학자에게 왼쪽 포크를 기다릴 거면 모든 포크를 내려놓고 기다려라 하는 것과 같음
(즉, 한 철학자가 두 개의 포크를 사용할 동안 다른 철학자들은 아무 포크도 사용할 수 없음)
3. 비선점 조건 없애기 - 선점이 가능한 자원(ex - CPU)에 한해 효과적임 But 모든 자원이 선점이 가능한 것은 아님(ex - 프린터)
4. 원형 대기 조건 없애기(가장 현실적인 방법) - 자원에 고유 번호를 할당하고, 각 프로세스는 현재 점유한 자원의 고유번호보다 앞이나 뒤 한쪽 방향으로만 자원을 요구하도록 함 -> 자원의 활용률은 떨어질 수 있다는 단점이 존재함

![](../../README_resources/Pasted%20image%2020240423070937.png)

이처럼 일렬로 된 테이블에서 식사하는 것과 같음
-> 맨 오른쪽에 앉은 철학자는 해당 철학자 바로 왼편에 포크를 아무도 쓰고 있지 않더라도 집을 수 없으므로 자원의 활용률이 떨어진다고 할 수 있음
### 회피
- 교착 상태가 무분별한 자원 할당으로 인해 발생했다고 간주
- 교착 상태가 발생하지 않을 만큼 조심 조심 할당하기
- 배분할 수 있는 자원의 양을 고려하여 교착 상태가 발생하지 않을 만큼만 자원 배분

- 안전 순서열 : 교착 상태 없이 안전하게 프로세스들에 자원을 할당할 수 있는 순서
- 안전 상태 : 교착 상태 없이 모든 프로세스가 자원을 할당받고 종료될 수 있는 상태(안전 순서열인 상태) -> 교착 상태 회피란 이런 상태를 항시 유지하도록 자원을 할당하는 방식이라고 할 수 있음(아래 예시 참고)
- 불안전 상태 : 교착 상태가 발생할 수도 있는 상태(안전 순서열이 아닌 상태)

Ex) 컴퓨터 시스템에 총 12개의 자원이 있다고 할 때
1. 프로세스 P1, P2, P3가 각각 5개, 2개, 2개의 자원을 할당받아 실행 중
	- 남은 자원의 개수는 3개
2. 프로세스 P1, P2, P3는 각각 최대 10개, 4개, 9개 자원을 요구할 수 있다고 가정

![](../../README_resources/Pasted%20image%2020240423071012.png)

이때 각 프로세스가 각자의 작업 실행을 위해 추가로 5개, 2개, 7개를 요구한다면?
-> P2, P1, P3 순으로 자원을 할당한다고 가정

![](../../README_resources/Pasted%20image%2020240423071055.png)

![](../../README_resources/Pasted%20image%2020240423071202.png)

즉, P2, P1, P3 이라는 안전 순서열대로 할당하면 모든 프로세스가 실행이 가능함(P1, P3가 대기하는 시간은 있겠지만 결국 실행은 가능하므로)
다른 순서열일 경우엔 하염없이 자원을 기다리는 상태 즉, 교착상태가 됨

- 추가적인 이해를 위해 은행원 알고리즘 참고
### 검출 후 회복



