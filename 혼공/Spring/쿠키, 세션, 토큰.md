### HTTP 프로토콜 특징
1. **비연결성**
- 서버와 클라이언트가 계속 연결되어 있으면 서버의 비용이 기하급수적으로 늘어남 
  -> 요청을 받을 때만 클라이언트와 서버가 연결되고 응답이 완료된 후에는 바료 연결을 끊게 됨
2. **무상태**
- 서버가 클라이언트의 이전 상태를 저장하지 않는 특성을 말함. 즉, 클라이언트가 바로 이전에 어떤 요청을 보냈는지 서버는 기억하지 못한다는 얘기임
- 무상태이기 때문에 기본적으로는 사용자가 로그인 했어도 로그인을 했다는 정보를 서버는 저장하지 않음 -> 하지만 실제로 웹 어플리케이션에선 한 번 로그인한 상태가 계속 유지가 됨 어찌된 일인가?

### 쿠키
- 클라이언트에 저장될 목적으로 생성한 작은 정보 파일(서버에서 브라우저로 전송함)
- 브라우저는 서버에서 받은 쿠키를 저장해 두었다가 동일한 서버로 재요청 시 요청을 쿠키와 함께 전송하게 됨(쿠키는 request Header에 담겨서 전송하게 됨)
- 쿠키는 기본적으로 각 브라우저 스토리지에 저장되며 실제 저장 위치는 브라우저의 종류에 따라 조금씩 다름

### 쿠키의 장점
- 처음에 로그인했던 정보를 계속 사용하기 때문에 추가적인 데이터 저장은 필요없음

### 쿠키의 단점
- 쿠키에 들어 있는 정보는 보안에 취약하여 쉽게 변경, 삭제가 가능하며 가로채기를 당할 우려가 있음
- 브라우저마다 쿠키의 형태가 조금씩 다르기 때문에 브라우저 간 공유가 안 됨
- 쿠키의 사이즈가 커질수록 네트워크 부하가 심해짐

### 쿠키의 구성요소
- Name : 쿠키를 구별하는 데 사용되는 키(중복 불가)
- Value : 쿠키의 값
- Domain : 쿠키가 저장되는 도메인
- Path : 쿠키가 사용되는 경로
- Expires : 쿠키의 만료기한
### 세션
- 서버에서 일정 시간 동안 클라이언트 상태를 유지하기 위해 사용
- 서버에서 클라이언트별 유일한 Session ID를 부여하고 서버에 저장(Session 저장소가 따로 있음 거기에 저장됨)
- Session ID : 사용자의 주요 정보가 아닌 사용자의 식별만을 위한 값(사용자의 주요 정보를 사용하는 것이 아니기 때문에 보안상에는 문제가 되지 않음)
- 서버에서 생성한 Session ID는 클라이언트의 쿠키값으로 저장되고, 동일한 클라이언트가 재요청을 하게 될 시 Session ID가 들어 있는 쿠키와 요청을 같이 보내게 됨 -> 서버는 Session ID를 통해 어떤 클라이언트인지 식별할 수 있게 됨

### 세션의 장점
- 사용자의 주요 정보를 주고 받는 것이 아니기 때문에 상대적으로 안전함
- 사용자마다 고유한 Session ID가 발급되기 때문에 요청이 들어올 때마다 DB를 접근하지 않아도 됨

### 세션의 단점
- 사용자를 식별할 수 있는 값인 서버가 Session ID를 생성하고 저장해야 하므로 stateless하지 않게 됨
- 서버의 세션 저장소를 사용하는 것이라 요청이 많아지면 서버 부하가 심해짐

### Token
- 클라이언트가 서버에 접속을 하면 서버에서 해당 클라이언트에게 인증되었다는 의미로 '토큰'을 부여함
- 이 토큰은 유일하며 다음 요청부터는 Request Header에 토큰을 넣어서 보내게 되고 서버는 해당 토큰의 일치 여부를 확인하여 인증과정을 처리하게 됨
- 기존에는 서버가 세션정보를 가지고 있어야 하며 **조회하는 과정**이 필요하기 때문에 많은 **오버헤드**(어떤 처리를 하기 위해 들어가는 간접적인 처리 시간 · 메모리 등을 말함)가 발생했음 
-> 토큰은 세션과 달리 서버가 아닌 클라이언트에 저장되기 때문에 서버의 부담을 덜 수 있음/ 동시에 토큰 기반 시스템은 서버를 Stateless한 상태로 유지할 수 있음

![](../../README_resources/Pasted%20image%2020240214220020.png)

1. 사용자가 아이디와 비밀번호로 로그인을 함
2. 서버 측에서 사용자(클라이언트)에게 **유일한 토큰**을 발급함
3. 클라이언트는 서버 측에서 전달받은 토큰을 쿠키나 로컬 스토리지에 저장해 두고, 이후 요청부터 서버에 요청을 할 때마다 해당 토큰을 HTTP Request Header에 포함시켜 전달
4. 서버는 전달받은 토큰을 검증하고 요청에 응답함(토큰에는 요청한 사람의 정보가 담겨있기에 서버는 DB를 조회하지 않고 누가 요청하는지 알 수 있음)

#### **Token 방식의 단점**

1. 쿠키/세션과 다르게 토큰 자체의 데이터 길이가 길어, 인증 요청이 많아질수록 네트워크 부하가 심해질수 있다.(부하 : 원하는 어떤 효과를 얻기 위해 취하는 행동에 필요한 동작이나 자원을 말함)
2. Payload 자체는 암호화되지 않기 때문에 유저의 중요한 정보는 담을 수 없음
3. 토큰을 탈취당하면 대처하기 어려움(따라서 사용 기간 제한을 설정하는 식으로 극복한다)


web Server(웹서버) : 웹서버가 설치된 컴퓨터(하드웨어적 정의), 정적인 컨텐츠를 제공하는 프로그램(소프트웨어적 정의) -> Apache(아파치) 
WAS : 동적인 컨텐츠를 제공하는 프로그램이 올라가는 곳(내 프로젝트를 올리고 실행시키는 곳) -> Tomcat(톰캣)

[출처]
https://gunjoon.tistory.com/m/147
https://velog.io/@kimdy0915/%EC%9D%B8%EC%A6%9D-%EB%B0%A9%EC%8B%9D%EC%BF%A0%ED%82%A4-%EC%84%B8%EC%85%98-JWT%EC%97%90-%EB%8C%80%ED%95%B4-%EC%95%8C%EC%95%84%EB%B3%B4%EC%9E%90
https://inpa.tistory.com/entry/WEB-%F0%9F%93%9A-JWTjson-web-token-%EB%9E%80-%F0%9F%92%AF-%EC%A0%95%EB%A6%AC#token_%EC%9D%B8%EC%A6%9D
[https://inpa.tistory.com/entry/WEB-📚-JWTjson-web-token-란-💯-정리#token_인증](https://inpa.tistory.com/entry/WEB-%F0%9F%93%9A-JWTjson-web-token-%EB%9E%80-%F0%9F%92%AF-%EC%A0%95%EB%A6%AC#token_%EC%9D%B8%EC%A6%9D) [Inpa Dev 👨‍💻:티스토리]