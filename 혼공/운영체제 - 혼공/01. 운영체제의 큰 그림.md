### 운영체제
- 현존하는 프로그램 중 규모가 가장 큰 프로그램 -> 그렇기에 운영체제가 제공하는 기능은 다양함
- 운영체제가 제공하는 핵심적인 서비스 : 컴퓨터 자원에 접근하고 조작하는 기능, 프로그램이 올바르고 안전하게 실행되게 하는 기능 등
- 운영체제의 핵심 서비스를 담당하는 부분을 **커널**이라고 부름(그래서 보통 운영체제라는 말은 커널을 지칭하는 용어로 받아들이면 된다.)
- 운영체제는 너무나도 큰 프로그램이라서 전부 메모리에 올릴 수 없음 
	--> 필요할 때마다 필요한 부분만 메모리에 올라가게 됨 
	--> 이때, 메모리에 올라가는 부분을 **커널**이라고 하기도 함
- UI(User Interface), CLI(Command Line Interface)는 커널에는 속하지 않지만 운영체제에 포함되는 기능임
- 운영체제마다 명령어 다름

![](../../README_resources/Pasted%20image%2020240317224307.png)

### 이중모드와 시스템 호출
- 사용자가 실행하는 일반적인 응용 프로그램은 컴퓨터 자원(하드 디스크, CPU 등)에 직접 접근할 수 없음 -> 운영체제는 응용 프로그램들이 자원에 접근하려고 할 때 오직 자신을 통해서만 접근할 수 있도록 하여 자원을 보호함

![](../../README_resources/Pasted%20image%2020240317224924.png)

![](../../README_resources/Pasted%20image%2020240317225144.png)

#### 이중 모드
- CPU가 명령어를 실행하는 모드를 크게 사용자 모드, 커널 모드로 구분하는 방식
1. **사용자 모드**
	- 운영체제 서비스를 제공받을 수 없는 실행 모드
	- 커널 영역의 코드는 실행할 수 없는 실행 모드
	- 자원 접근 불가
2. **커널 모드**
	- 운영체제의 서비스를 제공받을 수 있는 실행 모드
	- 자원 접근을 비롯한 모든 명령어 실행 가능

- CPU는 슈퍼바이저 플래그를 통해 현재 명령어가 커널모드로 실행 중(1)인지 사용자모드로 실행 중(0)인지 알 수 있음
 
![](../../README_resources/Pasted%20image%2020240317230109.png)

#### 시스템 호출
- 일종의 인터럽트임(소프트웨어 인터럽트) -> 시스템 호출이 처리되는 방식은 하드웨어 인터럽트 처리 방식과 유사함
- 커널 모드로 전환하여 실행하기 위해 호출
- 보통 사용자 모드에서 자원에 접근하기 위해 시스템 호출 후 커널 모드에서 커널 영역의 코드를 실행하고 다시 사용자 모드로 돌아오는 방식임

![](../../README_resources/Pasted%20image%2020240319064326.png)

## 운영체제의 핵심 서비스

### 프로세스 관리
- 동시다발적으로 생성/실행/삭제되는 다양한 프로세스들을 일목요연하게 관리하는 것
- 프로세스 == 실행중인 프로그램
- 수많은 프로세스들은 보통 동시에 실행됨(= 아주 빠르게 번갈아가며 실행됨)

### 자원 접근 및 할당
- **CPU** 접근 및 할당 : `어떤 프로세스에게 얼마나 오래 CPU를 쓰게 할 것인가?` 를 정해줌(= **CPU 스케줄링**이라고 함)
- **메모리** 접근 및 할당 : 새로운 프로세스를 적재할 때, `비어있는 공간을 어떻게 찾을 것인가?`, `메모리에 전부 실어야 하는가?`를 판단함(뒤에 자세히)
- **입출력장치** 접근 및 할당 : 인터럽트 서비스 루틴을 각각의 응용 프로그램에게 제공하여 입출력 장치를 사용할 수 있게끔 함

### 파일 시스템 관리
- 관련된 정보를 파일이라는 단위로 저장 장치에 보관
- 파일들을 묶어 폴더(디렉토리) 단위로 저장 장치에 보관
- 파일과 폴더는 사실 운영체제가 제공하는 기능임